# README

## 1. Description

This is my **graduation project** containing the design of a **RV32I** based CPU **decoder**. The project is composed of two parts: module and testbench.  All codes are written in **verilog HDL**. Testbench of **top_module.vt** is automatically generated by **Quartus Prime 17.1** and manually modified in order to run RLT and Gate Level simulation.

## 2. Function of each module

In the first version, their are six modules: main_decoder, sub_decoder, ALU_control, branch_comp, out_buffer and top_module.

### main_decoder

The fuction of main_decoder is identifying **main type** of instructions by **second to sixth bits of opcode** and generates **ALU_op** which partly controls ALU working mode.

### sub_decoder

Sub_decoder receives **main type of instructions and funct3**, by combining two signals, **sub type** of instruction is identified and detailed **operation signals to datapath** are generated.

### ALU_control

ALU_control is a module generates signals **controlling ALU working mode** through **ALU_Op and funct3 and funct7**.

### branch_comp

Branch_comp only functions for **B type** instructions. It switches comparing mode by **first two bits of funct3** and outputs **comparing results**.

### out_buffer

Out_buffer is a series of **D flip-flops**. It stores the **output signals** of modules above and outputs the signals at the **negedge of clock**.

### top_module

Top_module packs all modules above.

## 3. How to use

Open **Quartus Prime** → Select **New Project Wizard** → Specify working directory → naming project and top level design entity as **top_module** → Select project type as **Empty project** → Add all files under **module** folder → Choose device family: **Cyclone Ⅳ E** → Select **EP4CE10F17C8** in **Available devices** list → Choose simulation tool as **Modelsim** → Finish

After compilation, copy **top_module.vt** in testbench folder and paste it to **"working directory"\quartus_files\simulation\modelsim**. This will enable waveform simulation.
